<!doctype html>
<html lang="en" class="light">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.png" type="image/png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AMZ Ofertas - Marketing Digital com IA para Empresas</title>
    <meta name="description" content="Plataforma completa de gest√£o de marketing digital para pequenas e m√©dias empresas. Crie posts profissionais com IA e agende para Instagram e Facebook. Teste gr√°tis por 7 dias." />
    <meta name="keywords" content="marketing digital, gest√£o redes sociais, posts autom√°ticos, IA marketing, Instagram, Facebook, PME" />
    <meta name="author" content="AMZ Ofertas" />

    <meta property="og:title" content="AMZ Ofertas - Marketing Digital com IA para Empresas" />
    <meta property="og:description" content="Automatize suas redes sociais com intelig√™ncia artificial. Crie conte√∫do profissional e agende posts. Ideal para pequenas e m√©dias empresas." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://amzofertas.com.br" />
    <meta property="og:image" content="https://amzofertas.com.br/og-image.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="AMZ Ofertas - Marketing Digital com IA" />
    <meta name="twitter:description" content="Plataforma de marketing digital com IA para empresas. Crie e agende posts automaticamente." />
    <meta name="twitter:site" content="@amzofertas" />
    <meta name="twitter:image" content="https://amzofertas.com.br/og-image.png" />
  </head>

  <body>
    <div id="root"></div>
    <script>
      // CORRE√á√ÉO CR√çTICA: Interceptar URLs antigas do Bolt ANTES de qualquer coisa
      (function() {
        const CORRECT_SUPABASE_URL = 'https://jibpvpqgplmahjhswiza.supabase.co';
        
        // INTERCEPTAR FETCH
        const originalFetch = window.fetch;
        window.fetch = function(input, init) {
          try {
            let url = typeof input === 'string' ? input : input instanceof URL ? input.toString() : (input && input.url ? input.url : '');
            
            // CORRIGIR URL ANTIGA DO BOLT
            if (url && (url.includes('qbtqjrcfseqcfmcqlngr') || url.includes('gbtqjrcfseqcfmcqlngr'))) {
              const correctedUrl = url.replace(/https?:\/\/[^/]+\.supabase\.co/g, CORRECT_SUPABASE_URL);
              console.warn('üîß [HTML-FETCH] Interceptor corrigiu URL antiga:', url.substring(0, 80), '‚Üí', correctedUrl.substring(0, 80));
              
              if (typeof input === 'string') {
                input = correctedUrl;
              } else if (input instanceof URL) {
                input = new URL(correctedUrl);
              } else if (input && input.url) {
                input = new Request(correctedUrl, input);
              }
            }
          } catch (e) {
            console.error('Erro no interceptor fetch:', e);
          }
          
          return originalFetch.call(this, input, init);
        };
        
        // INTERCEPTAR XMLHttpRequest (Supabase pode usar isso tamb√©m)
        const OriginalXHR = window.XMLHttpRequest;
        window.XMLHttpRequest = function() {
          const xhr = new OriginalXHR();
          const originalOpen = xhr.open;
          
          xhr.open = function(method, url, ...args) {
            if (url && (url.includes('qbtqjrcfseqcfmcqlngr') || url.includes('gbtqjrcfseqcfmcqlngr'))) {
              const correctedUrl = url.replace(/https?:\/\/[^/]+\.supabase\.co/g, CORRECT_SUPABASE_URL);
              console.warn('üîß [HTML-XHR] Interceptor corrigiu URL antiga:', url.substring(0, 80), '‚Üí', correctedUrl.substring(0, 80));
              url = correctedUrl;
            }
            return originalOpen.call(this, method, url, ...args);
          };
          
          return xhr;
        };
        
        console.log('‚úÖ [HTML] Interceptores de fetch e XMLHttpRequest instalados no HTML (executado primeiro)');
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
